<!--div class="modal-header"-->

<!--/div-->
<div class="content-area">
    <h3>{{ title }}</h3>

    <form name="userform" class="css-form" novalidate>
        <div class="row-fluid">
            <fieldset class="span3">
                <label>User Name*</label>
                <input type="text" ng-model="user.username" placeholder="Minimum 4 characters" ng-disabled="updating">
            </fieldset>
        </div>
        <div class="row-fluid">
            <fieldset class="span2">
                <label>First Name*</label>
                <input type="text" ng-model="user.firstname" placeholder="The users first name" >
            </fieldset>
            <fieldset class="span2">
                <label>Last Name*</label>
                <input type="text" ng-model="user.lastname" placeholder="The users last name" >
            </fieldset>
        </div>
        <div class="row-fluid">
            <fieldset class="span3">
                <label>Email</label>
                <input type="text" ng-model="user.email" placeholder="The users email address" >
            </fieldset>
        </div>
        <div class="row-fluid">
            <fieldset>
                <label>Role*</label>
                <select ng-model="user.role">
                    <option ng-repeat="role in roles" value="{{ role.role }}">{{ role.name }}</option>
                </select>
            </fieldset>
        </div>
        <div class="row-fluid">
            <fieldset class="span2">
                <label>Password*</label>
                <input type="password" ng-model="user.password" placeholder="The user's password" >
            </fieldset>
            <fieldset class="span2">
                <label>Password Repeat*</label>
                <input type="password" ng-model="user.password2" placeholder="Repeat the user's password" >
            </fieldset>

        </div>
        <div class="row-fluid" ng-show="user.api_token">
            <fieldset>
                <label>API Token</label>
                <div>
                    <a ng-click="show_api_token = !show_api_token" ng-show="! show_api_token"><i class=" icon-chevron-right"></i>Show API Token</a>
                    <a ng-click="show_api_token = !show_api_token" ng-show="show_api_token"><i class=" icon-chevron-down"></i>Hide API Token</a>
                </div>
                <div ng-show="show_api_token" class="well well-small">{{ user.api_token }}</div>
            </fieldset>
        </div>
        <input ng-model="user.role" type="hidden">
    </form>

    <i>* Required fields</i>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="create()" ng-show="! updating">Create User</button>
        <button class="btn btn-primary" ng-click="update()" ng-show="updating">Update User</button>
        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
    </div>
</div>